<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Untitled Document</title>
    <link rel="stylesheet" type="text/css" href="cssRecord.css" />
    <script type="text/javascript" src="jquery-1.7.2.js"></script>
    <script type="text/javascript">
        //页面加载完成
        $(function () {

            //定义删除函数
            var deleteFunc = function(){
                var trObj = $(this).parent().parent();
                var name = trObj.find("td:first").text();
                if(confirm("Do you want to delete "+name+" ?")){
                    trObj.remove();
                }
                //return false可以阻止元素的默认行为
                return false;
            };

            $("#addEmpButton").click(function () {

                var name = $("#empName").val();
                var email = $("#email").val();
                var salary = $("#salary").val();

                var newObj = $("<tr>"+
                    "<td>"+name+"</td>"+
                    "<td>"+email+"</td>"+
                    "<td>"+salary+"</td>"+
                    "<td><a href=\"deleteEmp?id=001\">Delete</a></td>"+
                    "</tr>");
                newObj.appendTo( $("#employeeTable") );

                newObj.find("a").click(deleteFunc);
            });

            $("a").click(deleteFunc);
        });


    </script>
</head>
<body>

<table id="employeeTable">
    <tr>
        <th>Name</th>
        <th>Email</th>
        <th>Salary</th>
        <th>&nbsp;</th>
    </tr>
    <tr>
        <td>Tom</td>
        <td>tom@tom.com</td>
        <td>5000</td>
        <td><a href="deleteEmp?id=001">Delete</a></td>
    </tr>
    <tr>
        <td>Jerry</td>
        <td>jerry@sohu.com</td>
        <td>8000</td>
        <td><a href="deleteEmp?id=002">Delete</a></td>
    </tr>
    <tr>
        <td>Bob</td>
        <td>bob@tom.com</td>
        <td>10000</td>
        <td><a href="deleteEmp?id=003">Delete</a></td>
    </tr>
</table>

<div id="formDiv">

    <h4>添加新员工</h4>

    <table>
        <tr>
            <td class="word">name: </td>
            <td class="inp">
                <input type="text" name="empName" id="empName" />
            </td>
        </tr>
        <tr>
            <td class="word">email: </td>
            <td class="inp">
                <input type="text" name="email" id="email" />
            </td>
        </tr>
        <tr>
            <td class="word">salary: </td>
            <td class="inp">
                <input type="text" name="salary" id="salary" />
            </td>
        </tr>
        <tr>
            <td colspan="2" align="center">
                <button id="addEmpButton" value="abc">
                    Submit
                </button>
            </td>
        </tr>
    </table>

</div>

</body>
</html>
